<!DOCTYPE html>
<html>
<head>
    <title>Title of the document</title>

    <!-- <meta http-equiv="refresh" content="2"> -->
    <!-- this refreshes the brower every 2 secs -->

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/flow.css">

</head>
<body>
    <main class="main" >
        <div class="explain-container">
            <div class="content two-side">
                <div class="question">
                    <div class="img-container">
                        <img id="section-image" alt="section-image"/>
                    </div>
                    <p>
                        In the <span class="highlight">second</span> version of the landing page, you spent the most time of 
                        <span id="max-hover-time" class="highlight">____</span> seconds on this section. How did the images in this section, if there were any, make you stay here for this long? If it was not because of the images, what caught your attention or what caused you to stay here?
                    </p> 
                </div>
                <div class="form-container">
                    <div class="another-form-wrapper">
                        <form method="post" class="answer" >
                            <textarea name="answer" placeholder="Your answer here..."></textarea>
                            <a onclick="this.parentNode.submit()">Next</a>
                        </form> 
                    </div>
                </div>
                <script>
                    window.onload = async () => {
                        const id = window.location.search.substr(1)
                        const response = await fetch('/second-session-time?'+id)
                        const jsonFromServer = await response.json()
                        const time = await jsonFromServer.max_hover_time
                        const section = await jsonFromServer.section
                        console.log("time: ", time)
                        console.log("section: ", section)

                        const hoverTime = document.getElementById('max-hover-time')
                        hoverTime.innerText = time
                        const sectionImage = document.getElementById('section-image')
                        sectionImage.src = '/assets/misc/' + section + '.png'
                    }
                </script>
            </div>
        </div>
    </main>
</body>

</html>
