<!DOCTYPE html>
<html>
<head>
    <title>Title of the document</title>

    <!-- <meta http-equiv="refresh" content="2"> -->
    <!-- this refreshes the brower every 2 secs -->

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/flow.css">

</head>
<body>
    <main class="main" >
        <div class="explain-container">
            <div class="content two-side">
                <div class="question">
                    <div class="img-container">
                        <img id="section-image" alt="section-image"/>
                    </div>
                    <div class="question-container">
                    <p>
                        In the web page you've just saw, you spent the most time of 
                        <span id="max-hover-time" class="highlight">____</span> seconds on this section. 
                    </p> 
                    <p>
                        You've stopped here for this long to:
                    </p>
                    </div>
                </div>
                <div class="form-container">
                    <div class="another-form-wrapper">
                        <form method="post" class="answer" >
                            <div class="content">
                                <p><b>Read around the loading image</b></p>
                            </div>
                            <div class="selection-container">
                                <div class="selection">
                                    <input name="quest1" value="1" type="radio" id="q1-first" />
                                    <label for="q1-first">Strongly Disagree</label>
                                </div>
                                | 
                                <div class="selection">
                                    <input name="quest1" value="2" type="radio" id="q1-second" / >
                                    <label for="q1-second">Disagree</label>
                                </div>
                                | 
                                <div class="selection">
                                    <input name="quest1" value="3" type="radio" id="q1-third" />
                                    <label for="q1-third">Neutral</label>
                                </div>
                                | 
                                <div class="selection">
                                    <input name="quest1" value="4" type="radio" id="q1-fourth" / >
                                    <label for="q1-fourth">Agree</label>
                                </div>
                                | 
                                <div class="selection">
                                    <input name="quest1" value="5" type="radio" id="q1-fifth" / >
                                    <label for="q1-fifth">Strongly Agree</label>
                                </div>
                            </div>
                            <hr style="width: 100%;"/>
                            <div class="content">
                                <p><b>Looked at the image and waited for it to load</b></p>
                            </div>
                            <div class="selection-container">
                                <div class="selection">
                                    <input name="quest2" value="1" type="radio" id="q2-first" />
                                    <label for="q2-first">Strongly Disagree</label>
                                </div>
                                | 
                                <div class="selection">
                                    <input name="quest2" value="2" type="radio" id="q2-second" / >
                                    <label for="q2-second">Disagree</label>
                                </div>
                                | 
                                <div class="selection">
                                    <input name="quest2" value="3" type="radio" id="q2-third" />
                                    <label for="q2-third">Neutral</label>
                                </div>
                                | 
                                <div class="selection">
                                    <input name="quest2" value="4" type="radio" id="q2-fourth" / >
                                    <label for="q2-fourth">Agree</label>
                                </div>
                                | 
                                <div class="selection">
                                    <input name="quest2" value="5" type="radio" id="q2-fifth" / >
                                    <label for="q2-fifth">Strongly Agree</label>
                                </div>
                            </div>

                            <a onclick="this.parentNode.submit()">Next</a>
                        </form> 
                    </div>
                </div>
                <script>
                    window.onload = async () => {
                        const id = window.location.search.substr(1)
                        const response = await fetch('/first-session-time?'+id)
                        const jsonFromServer = await response.json()
                        const time = await jsonFromServer.max_hover_time
                        const section = await jsonFromServer.section
                        console.log("time: ", time)
                        console.log("section: ", section)

                        if (section == 'hero') {
                            //TODO: change the questions
                        }
                        const hoverTime = document.getElementById('max-hover-time')
                        hoverTime.innerText = time
                        const sectionImage = document.getElementById('section-image')
                        sectionImage.src = '/assets/misc/' + section + '.png'
                    }
                </script>
            </div>
        </div>
    </main>
</body>

</html>
